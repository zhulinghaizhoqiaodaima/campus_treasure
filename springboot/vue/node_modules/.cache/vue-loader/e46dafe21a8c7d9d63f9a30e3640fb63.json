{"remainingRequest":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\src\\views\\Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\src\\views\\Login.vue","mtime":1645500177757},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLndyYXBwZXIgewogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSByaWdodCwgI0ZDNDY2QiAsICMzRjVFRkIpOwogIG92ZXJmbG93OiBoaWRkZW47Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div style=\"margin: 200px auto; background-color: #fff; width: 350px; height: 300px; padding: 20px; border-radius: 10px\">\n      <el-form  :model=\"user\" :rules=\"rules\"  ref=\"userForm\">\n        <el-form-item prop=\"username\">\n          <el-input  size=\"medium\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-user\" v-model=\"user.stuNum\">\n          </el-input>\n        </el-form-item>        \n        <el-form-item prop=\"password\">\n          <el-input  size=\"medium\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-lock\" show-password v-model=\"user.password\">\n          </el-input>\n        </el-form-item>\n        <el-form-item style=\"margin: 10px 0; text-align: right\">\n        <el-button type=\"primary\" size=\"small\"  autocomplete=\"off\"  @click=\"submitForm('userForm')\" >登录</el-button>\n        </el-form-item>\n      </el-form>\n      \n      \n    </div>\n  </div>\n</template>\n\n<script>\nimport global from '../components/common.vue'\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      user: {\n        stuNum:'',\n        password:''\n      },\n      rules:{\n        stuNum: [\n          { required: true,message: '请输入用户名',trigger: 'blur'},\n          {min:1, max: 20, message: \"长度在1到5个字符\",trigger: 'blur'},\n        ],\n        password: [\n          { required: true,message: '请输入密码',trigger: 'blur'},\n          {min:3, max: 16, message: \"长度在3到16个字符\",trigger: 'blur'},\n        ]\n      }\n    }\n  },\n  methods: {\n    login() {\n      console.log(this.user);\n      this.request.post(\"/user/loginAdmin\",this.user).then(res=>{\n        if(res.code == '200') {\n            this.$message({\n          message: '登录成功',\n          type: 'success'\n          });\n          localStorage.setItem(\"user\",JSON.stringify(res.data)); // 存储用户信息存储到浏览器\n          // global.nickname = res.data.nickname;\n          this.$router.push(\"/\");\n         \n        }else{\n           this.$message.error(res.msg)\n        }\n      })\n    },\n    submitForm(formName) { // 表单校验\n      this.$refs[formName].validate((valid) => {\n        if (valid) {  // 合法\n          this.login()\n        } else {\n          console.log('error submit!!');\n         this.$message({\n          message: '账户或密码不符合规则',\n          type: 'warning'\n        });\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n\n<style>\n  .wrapper {\n    height: 100vh;\n    background-image: linear-gradient(to bottom right, #FC466B , #3F5EFB);\n    overflow: hidden;\n  }\n</style>\n"]}]}