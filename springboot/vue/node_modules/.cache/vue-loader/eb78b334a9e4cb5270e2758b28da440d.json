{"remainingRequest":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\src\\views\\Login.vue","mtime":1646491264944},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\前端全栈之路\\外包\\毕设项目\\campus_treasure\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7CiAgICAgICAgc3R1TnVtOicnLAogICAgICAgIHBhc3N3b3JkOicnCiAgICAgIH0sCiAgICAgIHJ1bGVzOnsKICAgICAgICBzdHVOdW06IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgIHttaW46MSwgbWF4OiAyMCwgbWVzc2FnZTogIumVv+W6puWcqDHliLA15Liq5a2X56ymIix0cmlnZ2VyOiAnYmx1cid9LAogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgIHttaW46MywgbWF4OiAxNiwgbWVzc2FnZTogIumVv+W6puWcqDPliLAxNuS4quWtl+espiIsdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICBdCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXIpOwogICAgICB0aGlzLnJlcXVlc3QucG9zdCgiL3VzZXIvbG9naW5BZG1pbiIsdGhpcy51c2VyKS50aGVuKHJlcz0+ewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgaWYocmVzLmNvZGUgPT0gJzIwMCcpIHsKICAgICAgICAgIGlmKHJlcy5kYXRhLmFkbWluKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgICAKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIixKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOyAvLyDlrZjlgqjnlKjmiLfkv6Hmga/lrZjlgqjliLDmtY/op4jlmagKICAgIAogICAgICAgICAgIAogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAn5LiN5piv566h55CG5ZGY6LSm5oi3JywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7IC8vIOihqOWNleagoemqjAogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsgIC8vIOWQiOazlQogICAgICAgICAgdGhpcy5sb2dpbigpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfotKbmiLfmiJblr4bnoIHkuI3nrKblkIjop4TliJknLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div style=\"margin: 200px auto; background-color: #fff; width: 350px; height: 300px; padding: 20px; border-radius: 10px\">\n      <el-form  :model=\"user\" :rules=\"rules\"  ref=\"userForm\">\n        <el-form-item prop=\"username\">\n          <el-input  size=\"medium\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-user\" v-model=\"user.stuNum\">\n          </el-input>\n        </el-form-item>        \n        <el-form-item prop=\"password\">\n          <el-input  size=\"medium\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-lock\" show-password v-model=\"user.password\">\n          </el-input>\n        </el-form-item>\n        <el-form-item style=\"margin: 10px 0; text-align: right\">\n        <el-button type=\"primary\" size=\"small\"  autocomplete=\"off\"  @click=\"submitForm('userForm')\" >登录</el-button>\n        </el-form-item>\n      </el-form>\n      \n      \n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      user: {\n        stuNum:'',\n        password:''\n      },\n      rules:{\n        stuNum: [\n          { required: true,message: '请输入用户名',trigger: 'blur'},\n          {min:1, max: 20, message: \"长度在1到5个字符\",trigger: 'blur'},\n        ],\n        password: [\n          { required: true,message: '请输入密码',trigger: 'blur'},\n          {min:3, max: 16, message: \"长度在3到16个字符\",trigger: 'blur'},\n        ]\n      }\n    }\n  },\n  methods: {\n    login() {\n      console.log(this.user);\n      this.request.post(\"/user/loginAdmin\",this.user).then(res=>{\n        console.log(res);\n        if(res.code == '200') {\n          if(res.data.admin) {\n              this.$message({\n            message: '登录成功',\n            type: 'success'\n          });\n         \n          localStorage.setItem(\"user\",JSON.stringify(res.data)); // 存储用户信息存储到浏览器\n    \n           \n            this.$router.push(\"/\");\n          }else{\n            this.$message({\n            message: '不是管理员账户',\n            type: 'error'\n          });\n          }\n        }else{\n           this.$message.error(res.msg)\n        }\n      })\n    },\n    submitForm(formName) { // 表单校验\n      this.$refs[formName].validate((valid) => {\n        if (valid) {  // 合法\n          this.login()\n        } else {\n          console.log('error submit!!');\n         this.$message({\n          message: '账户或密码不符合规则',\n          type: 'warning'\n        });\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n\n<style>\n  .wrapper {\n    height: 100vh;\n    background-image: linear-gradient(to bottom right, #FC466B , #3F5EFB);\n    overflow: hidden;\n  }\n</style>\n"]}]}